<!DOCTYPE html>
<!-- saved from url=(0030)http://lionet.info/asn1c/blog/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Lev Walkin → ASN.1 Exposed</title>
<link rel="stylesheet" type="text/css" href="./Lev Walkin → ASN.1 Exposed_files/basic.css">
<link rel="stylesheet" type="text/css" href="./Lev Walkin → ASN.1 Exposed_files/print.css" media="print">
<link rel="stylesheet" type="text/css" href="./Lev Walkin → ASN.1 Exposed_files/blog.css">
<link rel="alternate" type="application/rss+xml" title="ASN.1 Exposed" href="http://lionet.info/asn1c/blog/rss20.xml">
</head>
<body>

<div class="page">
<div class="path"><a href="http://lionet.info/">Home</a> → ASN.1 <span id="subview">→ blog</span></div>

<script type="text/javascript">
function SelectMenuItemByURL() {
	var doc = "" + window.location.href;
	for(;;) {
		var arr = doc.match(/\/asn1c\/([^\/\.]+)/);
		if(arr) break;
		doc = "/asn1c/compiler.html";
	}
	doc = arr[1];
	var menu = document.getElementById("menu");
	var menus = document.getElementsByTagName("a");
	menu.onselectstart = function () { return false; }
	var menuitem;
	for(var i = 0; i < menus.length; i++) {
		menuitem = menus[i];
		var href = "" + menuitem.getAttribute("href");
		var ha = href.match(/(asn1c\/([^\/\.]+))/);
		if(ha) href = ha[2];
		if(href == doc)
			break;
	}
	if(i == menus.length) {
		if(doc.match(/^man/)) menuitem = menus[3];
		else menuitem = menus[3];
	}
	var sv = document.getElementById("subview");
	sv.innerHTML = "&rarr; " + arr[1];
	var pin = menuitem.getElementsByTagName("span")[0];
	pin.style.visibility = "visible";
	menuitem.style.background = "#ffffff";	/* Highlight */
	setTimeout(function() {
		menuitem.style.background = "#fdfee8";	/* Dim */
			}, 500);
	setTimeout(function() {
		menuitem.style.background = "#faf0e0";	/* Dim */
			}, 700);
}
</script>

<div class="menu" id="menu" ondblclick="return false;">

  <a class="menuitem" href="http://lionet.info/asn1c/blog/" style="background: rgb(250, 240, 224);">
		<span class="pin" style="visibility: visible;">√</span>
		ASN.1 Blog</a>

  <a class="menuitem" href="http://lionet.info/asn1c/basics.html">
		<span class="pin">√</span>
		ASN.1 Basics</a>

  <a class="menuitem" href="http://lionet.info/asn1c/compiler.html">
		<span class="pin">√</span>
		ASN.1 Compiler</a>

  <a class="menuitem" href="http://lionet.info/asn1c/documentation.html">
		<span class="pin">√</span>
		Documentation</a>

  <a class="menuitem" href="http://lionet.info/asn1c/faq.html">
		<span class="pin">√</span>
		FAQ</a>

  <a class="menuitem" href="http://lionet.info/asn1c/examples.html">
		<span class="pin">√</span>
		Examples</a>

  <a class="menuitem" href="http://lionet.info/asn1c/download.html">
		<span class="pin">√</span>
		Download</a>

  <a class="menuitem" href="http://lionet.info/asn1c/quotes.html">
		<span class="pin">√</span>
		Users say...</a>
</div>

<script type="text/javascript">SelectMenuItemByURL();</script>

<div class="contents">
<div class="content">


<!-- This template is used to render indices -->

<!-- This is an example of how you could use conditional comments -->

<h2 id="caption">ASN.1 Exposed —&nbsp;latest articles</h2>


	<h2><a href="http://lionet.info/asn1c/blog/2010/09/22/question-how-to-use-streaming/">Question: How to use streaming?</a></h2>

<p class="headers">
<span class="headername">Date:</span> 2010-September-22 @ 20:42<br>

	<span class="headername">Tags:</span>
	
	<a href="http://lionet.info/asn1c/blog/tag/streaming">streaming</a>, 
	<a href="http://lionet.info/asn1c/blog/tag/support">support</a>

</p>


<p>
A <a href="https://sourceforge.net/projects/asn1c/forums/forum/357921/topic/3862507" class="external">Forum post</a> raises a question of the practical usage of streaming in the ASN.1 code generated by <a href="http://lionet.info/asn1c/" class="local">asn1c</a>:

</p><p>
</p><blockquote>
Hello,

I want to use the protocol to send a lot of data, but the device isn't able
to hold the whole amount of received data in RAM.
It has to work only with parts of the structure at a time.

<p>
For example,

</p><div><pre style="float: left; padding-right: 50px; min-width: 200px;">BigMessage ::= SEQUENCE {
    time-stamp UTCTime,
    messages SEQUENCE OF SmallMessage
}</pre><div style="clear: left;"></div></div>

<p>
If I get only the first half of the Big Message, I want to work with all received <code>messages</code> and then I have to to free my buffer due to limited resources. When I get the second part, I want to work on it and I want to know, if the message was valid...

</p><p>
On the encoder site, I also have to send "half" messages.

</p><p>
How can I do this? 
</p></blockquote>

The ASN.1 streaming is easily the most exciting thing the <a href="http://lionet.info/asn1c/" class="local">asn1c</a> has to offer. It's not something that's needed too often, but when it does, it's invaluable. Let's split the problem into two parts: how to decode in constant space and how to encode in constant space.


	<p class="meta">(<a href="http://lionet.info/asn1c/blog/2010/09/22/question-how-to-use-streaming/">Continue reading…</a>)

	</p><h2><a href="http://lionet.info/asn1c/blog/2010/09/21/question-extensibility-removing-fields/">Question: Extensibility and dropping fields</a></h2>

<p class="headers">
<span class="headername">Date:</span> 2010-September-21 @ 16:42<br>

	<span class="headername">Tags:</span>
	
	<a href="http://lionet.info/asn1c/blog/tag/extensibility">extensibility</a>, 
	<a href="http://lionet.info/asn1c/blog/tag/support">support</a>

</p>


<p>
Today's email was asking me about an interesting case of ASN.1 extensibility.
Usually, extensibility means adding new members to existing structures. In this case, the user was asking whether ASN.1 supports removing structure members.

</p><p>
</p><blockquote>
Hello, Mr. Walkin.
 
<p>
I am using the ASN.1 compiler and for an application I am developing. I am using this to store the datastructure in a file, for persistence. I am trying to find out whether forward compatibility is support. By this I mean the following.
 
</p><p>
In the version 1 I have the following structure:
</p><div><pre style="float: left; padding-right: 50px; min-width: 200px;">Struct a {
	Int x;
	Int y;
	Int z;
}</pre><div style="clear: left;"></div></div>
 
I store the data x = 111; y = 222 and z = 333;
 
<p>
Now I upgrade the software to the version 2 where in the new struct is:
 
</p><div><pre style="float: left; padding-right: 50px; min-width: 200px;">Struct a {
	Int x;
	<code class="comment">// int y is removed</code>
	Int z;
}</pre><div style="clear: left;"></div></div>
 
<p>
Now when I read the existing file (generated with the older version of ASN.1 specification) with the newer version of the software, I get the following data back: x = 111, and z = 222.

</p><p>
Can you please tell me whether it is possible to get x = 111 and z = 333. If yes, then what ASN syntax should I follow?
 
I am using der_encode and ber_decode.
</p></blockquote>


	<p class="meta">(<a href="http://lionet.info/asn1c/blog/2010/09/21/question-extensibility-removing-fields/">Continue reading…</a>)

	</p><h2><a href="http://lionet.info/asn1c/blog/2010/07/18/thrift-semantics/">On FaceBook's Thrift semantics, code generation, and OCaml</a></h2>

<p class="headers">
<span class="headername">Date:</span> 2010-July-18 @ 23:42<br>

	<span class="headername">Tags:</span>
	
	<a href="http://lionet.info/asn1c/blog/tag/asn.1">asn.1</a>, 
	<a href="http://lionet.info/asn1c/blog/tag/ocaml">ocaml</a>, 
	<a href="http://lionet.info/asn1c/blog/tag/thrift">thrift</a>

</p>


<p>
Note: The obligatory <a class="external" href="http://www.urbandictionary.com/define.php?term=tl%3Bdr">TL;DR</a> section is at the very end of this text.
</p><h3>The ASN.1 rant</h3>After co-founding <a class="external" href="http://aboutecho.com/">Echo</a>, I had to put the <a href="http://lionet.info/asn1c/documentation.html" class="local">asn1c</a>'s development on hold, for the sheer lack of time. (If you don't know what my asn1c is, think of it as the <a href="http://lionet.info/ljimg/asn1c-iphone-license.png" class="local">most</a> <a href="http://lionet.info/ljimg/cisco-asn1c-license.png" class="local">evolved</a> open source ASN.1 compiler.) Despite suspending development, I've been tracking the ASN.1 evolution, as well as the emergence of some newer technologies competing with what ASN.1 has to offer. I am referring to FaceBook's <a class="external" href="http://incubator.apache.org/thrift/">Thrift</a>, Google's <a class="external" href="http://code.google.com/p/protobuf/">Protocol Buffers</a>, Cisco's Etch, and the likes. Yet to this day I had no opportunity to actually use any of those in production.

<p>
I have my own personal score with the ASN.1 world. The standard is laden with design-by-committee complexity, no doubt evolved to “address the real world demands”. Its mind-numbing <a class="external" href="http://www.merriam-webster.com/dictionary/legalese">standardese</a> and semantics effectively prohibit any newcomer from ever entering this field and producing a decent new compiler. So, we're stuck with something like 2.5 alive ASN.1 compilers covering some 3 mainstream languages (C++, C#, Java). The commercial products are often cost prohibitive: they're squarely aimed at rich telecom market. Where would a small Ruby or Python startup go? (While I am at it, Erlang has a free decent ASN.1 compiler, you know).

</p><p>
Yet, there's an opposite side to this complexity. Many things you struggle with or “invent” for the purpose of better data serialization have already been invented in the ASN.1 world. Things like broiled-to-perfection <a class="external" href="http://en.wikipedia.org/wiki/Type-length-value">TLV</a>-based encodings (BER/DER/CER), bitwise <a class="external" href="http://en.wikipedia.org/wiki/Packed_Encoding_Rules">Packed Encoding Rules</a> (competing with gzip'ing your serialized binary blob), <a class="external" href="http://en.wikipedia.org/wiki/Information_Object_Class_(ASN.1)">Information Object Classes</a> (think of SNMP MIB macros on steroids), or <a class="external" href="http://en.wikipedia.org/wiki/Encoding_Control_Notation">Encoding Control Notation</a> have a lot to offer and learn from.

</p><p>
But I should stop kicking that dead horse. Let's try Thrift for a change.


	</p><p class="meta">(<a href="http://lionet.info/asn1c/blog/2010/07/18/thrift-semantics/">Continue reading…</a>)


<!-- pagination sample -->



</p><div style="clear: both;"></div>
</div><!-- "content" -->
</div><!-- "contents" -->
</div><!-- "page" -->

<div style="clear: both; position: relative; height: 4em;">
<div style="position: absolute; text-align: center; width: 100%; bottom: 0px; padding-bottom: 10px; padding-top: 10px;">
<hr width="70%">
<a href="http://lionet.info/asn1c/">The ASN.1 Compiler</a>
	Copyright © 2003—2013
Lev Walkin &lt;<a href="mailto:vlm@lionet.info?Subject=asn1c">vlm@lionet.info</a>&gt;
</div>
</div>

<script src="./Lev Walkin → ASN.1 Exposed_files/urchin.js.下载" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-735448-1";
try { urchinTracker(); } catch(e) {};
</script>





<!-- 
    Generated by WadcomBlog v.0.3 (r1823)

    WadcomBlog is (c) 2006-2008 Vlad Skvortsov, vss@73rus.com

    http://vss.73rus.com/wadcomblog
!-->
<div id="qb-sougou-search" style="display: none; opacity: 0;"><p>搜索</p><p class="last-btn">复制</p><iframe src="./Lev Walkin → ASN.1 Exposed_files/saved_resource.html"></iframe></div></body></html>