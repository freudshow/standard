!function(){var t=window._dup_exp_global||window._dup_exp_c_global||window._dup_global||window._ssp_global||{};!function(t){}(t),function(t){t.setPath("//dup.baidustatic.com/"),t.define({name:"bdom",namespace:"dup.union.common",deps:{},bind:function(t,e,n){return"string"==typeof t&&(t=this.one(t)),e=e.replace(/^on/i,"").toLowerCase(),t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n),t},unbind:function(t,e,n){return(t=this.one(t))?(e=e.replace(/^on/i,"").toLowerCase(),t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n),t):null},subOne:function(t,e){var n=this;if(t.constructor===Object&&(t=this.one(t)),"string"==typeof e){for(var o=document.getElementById(e),r=o;r;){if(r===t)return o;r=r.parentNode}return null}if(e.constructor===Object){var i=null;return n.traverse(t,function(t){return n.is(t,e)?(i=t,!1):void 0}),i}},one:function(t){if(t){if(t.nodeName)return t;if(arguments.length>1&&(t=Array.prototype.slice.call(arguments,0)),"string"==typeof t)return document.getElementById(t);if(t.constructor===Object)return this.subOne(document.documentElement,t);if(t.constructor===Array){for(var e=t.concat([]),n=document.documentElement;e.length&&n;)n=this.subOne(n,e.shift());return n}}},traverse:function(t,e){if(t&&e(t)!==!1){var n=t.childNodes;if(n)for(var o=0,r=n.length;r>o;o++){var i=n[o],a=this.traverse(i,e);if(a===!1)return!1}}},langGetType:function(t){for(var e={},n="Array Boolean Date Error Function Number RegExp String".split(" "),o=0,r=n.length;r>o;o++)e["[object "+n[o]+"]"]=n[o].toLowerCase();return null==t?"null":e[Object.prototype.toString.call(t)]||"object"},isWindow:function(t){try{if(t&&"object"==typeof t&&t.document&&"setInterval"in t)return!0}catch(e){return!1}return!1},isInIframe:function(t,e){return e=2===arguments.length?e:t.parent,t!=e||!this.isWindow(t)},isInCrossDomainIframe:function(t,e){function n(t){try{return!!t.parent.location.toString()}catch(e){return!1}}e=2===arguments.length?e:t.parent;for(var o=0,r=10;o++<r&&this.isInIframe(t,e);){if(!n(t))return!0;t=t.parent}return o>=r},getNotCrossDomainTopWindow:function(t,e){1===arguments.length&&"number"===this.langGetType(arguments[0])&&(e=arguments[0],t=void 0),e=e||10;for(var n=window,o=0;o++<e&&this.isInIframe(n)&&!this.isInCrossDomainIframe(n)&&(!t||!t(n));)n=n.parent;return n},langGetAttribute:function(t,e){for(var n=t,o=e.split(".");o.length;){if(void 0===n||null===n)return;n=n[o.shift()]}return n},getInfo:function(t,e){var n,o={},r=this.getNotCrossDomainTopWindow(),i=r[STORE_NAME]||(r[STORE_NAME]={}),a=e?i:o;return"string"===this.langGetType(t)&&(n=this.langGetAttribute(a,t)),n},getDocumentTitle:function(){var t=this.getNotCrossDomainTopWindow(),e=t.document.title,n=60;return e.length>n&&(e=e.substr(0,n)),e},getScrollWidth:function(t){try{return t=t||window,"BackCompat"===t.document.compatMode?t.document.body.scrollWidth:t.document.documentElement.scrollWidth}catch(e){return 0}},getScrollHeight:function(t){try{return t=t||window,"BackCompat"===t.document.compatMode?t.document.body.scrollHeight:t.document.documentElement.scrollHeight}catch(e){return 0}},getClientWidth:function(t){try{return t=t||window,"BackCompat"===t.document.compatMode?t.document.body.clientWidth:t.document.documentElement.clientWidth}catch(e){return 0}},getClientHeight:function(t){try{return t=t||window,"BackCompat"===t.document.compatMode?t.document.body.clientHeight:t.document.documentElement.clientHeight}catch(e){return 0}},getScrollTop:function(t){t=t||window;var e=t.document;return window.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},getScrollLeft:function(t){t=t||window;var e=t.document;return window.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft}}),t.define({name:"logic",namespace:"dup.union.common",deps:{},escapeToEncode:function(t){var e=t||"";return e&&(e=e.replace(/%u[\d|\w]{4}/g,function(t){return encodeURIComponent(unescape(t))})),e},template:function(t,e){var n=/{(.*?)}/g;return t.replace(n,function(t,n,o,r){return e[n]||""})},jsonToObj:function(t){var e="";return window.JSON&&window.JSON.parse&&(e=window.JSON.parse(t)),e},getUrlQueryValue:function(t,e){if(t&&e){var n=new RegExp("(^|&|\\?|#)"+e+"=([^&]*)(&|$)",""),o=t.match(n);if(o)return o[2]}return null},parseUrlQuery:function(t,e){t=t||"",e=e||"?";var n=arguments.callee;n.hasOwnProperty[e]||(n[e]={});var o=n[e];if(o.hasOwnProperty(t))return o[t];var r={},i=t.indexOf(e),a=t.substring(i+1),s=a.split("&");if(-1!==i)for(var c=0,u=s.length;u>c;c++){var l=s[c].split("="),d=decodeURIComponent(l[0]),p=decodeURIComponent(l[1]);r.hasOwnProperty(d)?(r[d].constructor!==Array&&(r[d]=[r[d]]),r[d].push(p)):r[d]=p}return o[t]=r,r}}),t.define({name:"cookie",namespace:"dup.union.common",deps:{},getRaw:function(t,e){var n,e=e||window,o=e.document,r=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=r.exec(o.cookie);return i&&(n=i[2]),n},setRaw:function(t,e,n){n=n||{};var o=n.expires;"number"==typeof n.expires&&(o=new Date,o.setTime(o.getTime()+n.expires)),document.cookie=""+t+"="+e+(n.path?"; path="+n.path:"")+(o?"; expires="+o.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")},remove:function(t){var e=new Date;e.setTime(e.getTime()-86400),this.setRaw(t,"",{path:"/",expires:e})}}),t.define({name:"businessLogic",namespace:"dup.union.business",deps:{},adsCountLimit:{inlay:8,"float":2,patch:2,linkunit:20,popup:1},adsCountRecorder:{inlay:{},"float":{},patch:{},linkunit:{},popup:{}},adsCountOption:{deviceType:"pc",displayType:"inlay-fixed",displayMainType:"inlay",displaySubType:"fixed",styleType:"template_inlay_all_normal",stuffType:"text"},displayTypeMap:{1001:"inlay-fixed",1002:"inlay-float",2001:"float-left-middle",2002:"float-right-middle",2003:"float-left-bottom",2004:"float-right-bottom",2005:"float-top",2006:"float-bottom",2007:"float-linkunit-left",3001:"patch-webpage",3002:"patch-flash",4001:"captcha-webpage"},processAdsCountOption:function(t){var e={};e.deviceType=(t.deviceType||this.adsCountOption.deviceType).toLowerCase(),e.displayType=(t.displayType||this.adsCountOption.displayType).toLowerCase(),e.styleType=(t.styleType||this.adsCountOption.styleType).toLowerCase(),e.stuffType=(t.stuffType||this.adsCountOption.stuffType).toLowerCase(),e.domId=t.domId,(e.styleType.indexOf("tlink")>-1||e.styleType.indexOf("linkunit")>-1||e.styleType.indexOf("baiducustnativead")>-1)&&(e.displayType="linkunit-fixed"),e.styleType.indexOf("float_xuanfuwin")>=0&&(e.displayType="popup-float");var n=e.displayType.split("-");return e.displayMainType=n[0]||this.adsCountOption.displayMainType,e.displaySubType=n[1]||this.adsCountOption.displaySubType,e},checkAdsCount:function(t){t=this.processAdsCountOption(t);var e=t.displayMainType,n=this.getAdsCount(t),o=this.adsCountLimit[e];return o>n},g:function(t,e){return e=e||window,"string"==typeof t||t instanceof String?e.document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:t},getAdsCount:function(t){t=this.processAdsCountOption(t);var e=0,n=this.adsCountRecorder[t.displayMainType];for(var o in n)o&&n[o]&&n.hasOwnProperty(o)&&(this.g(o)?e++:n[o]=void 0);return e},setAdsCount:function(t){return t=this.processAdsCountOption(t),this.adsCountRecorder[t.displayMainType][t.domId]=1,!0},getWrapper:function(t,e){var n="cpro_"+t,o=document.getElementById(n);return o||(o=document.getElementById(e)),o},getDisplayTypeByValue:function(t){return this.displayTypeMap[t]},genStyle:function(t){var e="";for(var n in t)e+=n+":"+t[n]+("number"==typeof t[n]?"px;":";");return e},setupViewWatch:function(t,e){var n=t.slotId;require(["viewWatch"],function(e){e.register({id:n,wrapperId:t.iframeId,logType:"block",extra:"ch="+t.channel+"&jk="+t.pvId+"&n="+t.unionAccount})},!0)}}),t.define({name:"pcInsert",namespace:"dup.ui.painter",deps:{bdom:"dup.union.common.bdom",frame:"dup.business.frame",param:"dup.business.param",cookie:"dup.union.common.cookie"},AdHook:function(){},wrapperHtml:'<div class=bd_lu_pc_insert_outwraper id ="bd_lu_pc_insert_outwraper" style="display:none;position:fixed;z-index:2147483647;"><div style="width:620px;height:380px;position:relative;" class=bd_lu_pc_insert_ads_wrapper id=bd_lu_pc_insert_ads_wrapper><div class="bd_lu_pc_insert_close_btn" id="bd_lu_pc_insert_close_btn" style="display: block; right: 0px; top: 0px;"></div><div style="width:620px;height:380px;position:relative;" id="bd_lu_pc_insert_iframe_wrapper"></div></div></div>',wrapperCss:'wrapperCss<style>.bd_lu_pc_insert_outwraper{width:100%;height:653px;background-color:rgba(51,51,51,0.7);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";position:fixed;z-index:2147483647;bottom:0;font-family:微软雅黑 !important;/* IE8 */filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);}.bd_lu_pc_insert_outwraper .bd_lu_pc_insert_close_btn{z-index:100;position:absolute;display:none;text-indent:-9999px;padding:0;width:20px;height:20px;overflow:hidden;background:url(//cpro.baidustatic.com/cpro/exp/propose_ad/close.png) no-repeat 0 0 transparent;cursor:pointer;} .bd_lu_pc_insert_outwraper .bd_lu_pc_insert_close_btn:hover{background:url(//cpro.baidustatic.com/cpro/exp/propose_ad/close_hover.png) no-repeat 0 0 transparent}</style>',delayTime:1e4,Sys:{},render:function(t){t.displayType="inlay-fixed",this.initContentExtractor(),this.initPageAnalyzer(),this.slotData=this.processSlotData(t),this.initEnv(t),this.initShowStyle()},initEnv:function(t){if(this.initContentExtractor(),this.initPageAnalyzer(),t.isOnceSeach){var e=t.containerId+"_frame",n=document.getElementById(e);n&&(n.width=0,n.height=0);var o=t.paramObj;o.ari=2,o.dtm="HTML_POST",t.paramObj=o}t.paramObj.dc=2,t.paramObj.exps="",this.slotData=this.processSlotData(t),this.slotInfo=t,this.backScrollLength=0,this.showPeriod=3e5,this.SCROLL_SHOW_LENGTH=200,this.domain=(document.domain||location.hostname).toLowerCase(),this.scrollTop=this.bdom.getScrollTop(),this.adsWrapper=document.getElementById(t.containerId),this.article=this.getArticle(),this.coaParam={}},showAds:function(){return},setCoaParam:function(){var t="";for(var e in this.coaParam)this.coaParam.hasOwnProperty(e)&&(t+=e+"="+this.coaParam[e]+"&");t.length>0&&(t=t.substr(0,t.length-1),this.slotInfo.paramObj.coa?this.slotInfo.paramObj.coa+=encodeURIComponent("&"+t):this.slotInfo.paramObj.coa=encodeURIComponent(t))},showIframeAds:function(){var t=document.createElement("div"),e=document.createElement("div");t.innerHTML=this.wrapperHtml,e.innerHTML=this.wrapperCss;var n=e.lastElementChild||e.lastChild;document.body.appendChild(t),document.body.appendChild(n),this.outWrapper=document.getElementById("bd_lu_pc_insert_outwraper"),this.adsWrapper=document.getElementById("bd_lu_pc_insert_ads_wrapper"),this.iframeWrapper=document.getElementById("bd_lu_pc_insert_iframe_wrapper");var o=this.frame.processFrameData(this.slotInfo);this.iframeWrapper.innerHTML+=this.frame.renderFrameHTML(o),this.iframe=this.iframeWrapper.getElementsByTagName("iframe"),this.iframe&&this.iframe.length>0&&(this.iframe[0].style.width="620px",this.iframe[0].style.height="380px"),this.relocation(),this.outWrapper.style.display="block",this.closeBtn=document.getElementById("bd_lu_pc_insert_close_btn"),this.bind(this.closeBtn,"click",this.proxy(this,function(t){this.outWrapper.style.display="none"})),this.bind(this.outWrapper,"click",this.proxy(this,function(t){var e=t.target||t.srcElement;e===this.outWrapper&&(this.outWrapper.style.display="none")})),this.bind(window,"resize",this.proxy(this,function(t){this.relocation()}))},proxy:function(t,e){return function(){return e.apply(t,arguments)}},relocation:function(){var t=(this.getBrowerWidth()-600)/2;t=t>0?t:0,this.adsWrapper.style.marginLeft=t+"px";var e=(this.getBrowerHeight()-360)/2;e=e>0?e:0,this.adsWrapper.style.marginTop=e+"px",this.outWrapper.style.height=this.getBrowerHeight()+"px",this.outWrapper.style.width=this.getBrowerWidth()+"px"},getBrowerHeight:function(){if(window.innerHeight)return window.innerHeight;var t=0==document.documentElement.clientHeight?document.body.clientHeight:Math.min(document.documentElement.clientHeight,document.body.clientHeight);return Math.max(300,t)},getBrowerWidth:function(){return 0==document.documentElement.clientWidth?document.body.clientWidth:Math.min(document.documentElement.clientWidth,document.body.clientWidth)},loadJs:function(t,e){var n=document.createElement("script");n.onload=function(){e()},n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&e()},n.src=t,n.charset="utf-8",n.async="true";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)},bind:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},unBind:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=n},processSlotData:function(t){var e=t.response,n=e.placement.userdefine||{},o={},r=t.paramObj.coa;if(n)for(var i=n.split("|"),a=0;a<i.length;a++){var s=i[a];if(/,/.test(s)){var c=s.split(",");for(var u in c)if(/=/.test(c[u])){var l=c[u].split("=")[0],d=c[u].split("=")[1];o[l]=d}}else{var l=s.split("=")[0],d=s.split("=")[1];o[l]=d}}if(r){r=decodeURIComponent(r);var p=r.split("&");for(var s in p)if("function"!=typeof p[s]){var l=p[s].split("=")[0],d=p[s].split("=")[1];o[l]=decodeURIComponent(d)}}return o.pist=o.pist||1,o},initShowStyle:function(){function t(t,e){return function(){return e.apply(t,arguments)}}if(!this.hasCookie()){var e=this.getExpCookie();if(this.slotData.pist=5,50>e){this.coaParam.wtE=25,this.delayTime=1e4;var n=new Date;this.lastMoveTime=n.getTime(),this.lastMoveX=-1,this.lastMoveY=-1}else this.coaParam.wtE=23,this.showPeriod=36e5;this.coaParam.pist=this.slotData.pist,1==this.slotData.pist?(this.showAds(),this.sendOpenShowLog()):2==this.slotData.pist?(this.proxyScrollEvent=t(this,this.scrollEvent),this.bind(window,"scroll",this.proxyScrollEvent)):3==this.slotData.pist?this.isAtBottom()?this.scrollBottomEvent():(this.proxyScrollBottomEvent=t(this,this.scrollBottomEvent),this.bind(window,"scroll",this.proxyScrollBottomEvent)):4==this.slotData.pist?setTimeout(t(this,function(){this.showAds(),this.sendDelayOpenShowLog()}),5e3):5==this.slotData.pist&&(this.proxyMonitorMousePos=t(this,function(t){var e=new Date,n=t.clientX||-1,o=t.clientY||-1;n>=0&&o>=0&&Math.abs(n-this.lastMoveX)+Math.abs(o-this.lastMoveY)<5||(this.lastMoveTime=e.getTime(),this.lastMoveX=n,this.lastMoveY=o,this.stopEventBubble(t))}),this.bind(document.body,"mousemove",this.proxyMonitorMousePos),this.monitorMouseTimer=setInterval(this.proxy(this,function(){var t=new Date;t.getTime()-this.lastMoveTime>=this.delayTime&&(clearInterval(this.monitorMouseTimer),this.unBind(document.body,"mousemove",this.proxyMonitorMousePos),this.showAds())}),1e3))}},getElementOffset:function(t){if(!t)return null;for(var e=t.offsetTop,n=t.offsetLeft,o=t.offsetWidth,r=t.offsetHeight;t=t.offsetParent;)e+=t.offsetTop,n+=t.offsetLeft;return{top:e,left:n,bottom:e+r,right:n+o}},getArticle:function(){var t;try{this.pageAnalyzer=this.pageAnalyzer||new this.bdPageAnalyzer,t=this.pageAnalyzer.getDefaultArticle()}catch(e){t=null}return t},scrollEvent:function(){var t=this.bdom.getScrollTop();this.scrollTop<t?this.backScrollLength=0:this.backScrollLength+=this.scrollTop-t,this.backScrollLength>=this.SCROLL_SHOW_LENGTH&&(this.showAds(),this.sendScrollShowLog(),this.unBind(window,"scroll",this.proxyScrollEvent)),this.scrollTop=t},scrollBottomEvent:function(){this.isAtBottom()&&(this.proxyScrollBottomEvent&&this.unBind(window,"scroll",this.proxyScrollBottomEvent),setTimeout(this.proxy(this,function(){this.showAds(),this.sendScrollBottomShowLog()}),this.delayTime))},isAtBottom:function(){var t=this.getWindowBottom(),e=.8*document.body.scrollHeight;if(this.article){var n=this.getElementOffset(this.article),o=this.getBrowerHeight();n.bottom>o&&(e=Math.min(e,n.bottom+.5*o))}return t>=e},getWindowBottom:function(){var t=document.documentElement.scrollTop||document.body.scrollTop;return t+this.getBrowerHeight()},getBrowerHeight:function(){if(window.innerHeight)return window.innerHeight;var t=0==document.documentElement.clientHeight?document.body.clientHeight:Math.min(document.documentElement.clientHeight,document.body.clientHeight);return Math.max(300,t)},sendOpenShowLog:function(){this.hasOpenShowLog||this.sendLog("open_show"),this.hasOpenShowLog=!0},sendDelayOpenShowLog:function(){this.hasDelayOpenShowLog||this.sendLog("open_delay_show"),this.hasDelayOpenShowLog=!0},sendScrollShowLog:function(){this.hasScrollShowLog||this.sendLog("scroll_show"),this.hasScrollShowLog=!0},sendScrollBottomShowLog:function(){this.hasScrollBottomShowLog||this.sendLog("scroll_bottom_show"),this.hasScrollBottomShowLog=!0},sendLog:function(t){},setPeriodCookie:function(){this.cookie.setRaw("BDINSERT1","1",{path:"/",domain:"."+this.domain,expires:this.showPeriod})},hasCookie:function(){return this.cookie.getRaw("BDINSERT1")},updateSessionCookie:function(){var t=this;this.setPeriodCookie(),setInterval(function(){t.setPeriodCookie()},1e4)},setExpCookie:function(t){var e=new Date;e.setTime(e.getTime()+31536e6),document.cookie="BDPCIEXP="+escape(t)+";path=/;expires="+e.toGMTString()},getExpCookie:function(){var t=this.cookie.getRaw("BDPCIEXP");return t?t:(t=Math.round(100*Math.random()),this.setExpCookie(t),t)},stopEventBubble:function(t){var e=t||window.event;e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},initPageAnalyzer:function(){this.bdPageAnalyzer=function(){function t(){for(var t=document.getElementsByTagName("img"),e=null,n=0,o=0;o<t.length;o++){var r=window.getComputedStyle(t[o]),i=r.width.replace(/[^0-9.-]/g,""),a=r.height.replace(/[^0-9.-]/g,""),s=i*a;(!e||s>n)&&(e=t[o],n=s)}return e}function e(){var e;if(t(),!u||u.parentNode&&0!=u.getBoundingClientRect().width||(u=null,f=!1),!f){var r=o();if(s[r]?(e=document.querySelector(s[r]),e&&(u=e,l=u.getBoundingClientRect())):-1!=c.indexOf(r)&&(u=t(),u&&(l=u.getBoundingClientRect())),!u){var i=["jpeg","jpg","gif","png"],a=document.location.href.replace(/^.*\.(\w+)$/,"$1");a&&-1!=i.indexOf(a)&&(e=document.querySelector("body > img"),e&&(u=e,l=u.getBoundingClientRect()))}if(!u){var d=new window.ExtractContentJS.LayeredExtractor;d.addHandler(d.factory.getHandler("Heuristics"));var m=d.extract(document);if(m.isSuccess){for(var g=m.content.asNode();g.nodeType!==Node.ELEMENT_NODE&&g.parentNode;)g=g.parentNode;g.nodeType===Node.ELEMENT_NODE?"IFRAME"===g.nodeName?console.warn("Found an IFRAME as the content element. Will not use."):g.textContent.replace(/\s+/g," ").length>300&&(u=g,l=u.getBoundingClientRect()):console.warn("Got non-element node as content node. nodeType: "+g.nodeType)}}if(!u&&"frameset"==document.body.nodeName.toLowerCase()){p=!0;var y=n();y&&y.contentDocument&&y.contentDocument.documentElement&&(h=y,u=y.contentDocument.documentElement,l=u.getBoundingClientRect())}f=!0}}function n(){for(var t=document.getElementsByTagName("frame"),e=null,n=0,o=0;o<t.length;o++)if(t[o].width&&t[o].height){var r=t[o].width*t[o].height;r>n&&(e=t[o],n=r)}return e}function o(){var t=document.location.href.match(/^.*?:\/\/(www\.)?(.*?)(\/|$)/);return t?t[2]:null}function r(){return e(),u}function i(){var t=window.getSelection();if(t&&t.rangeCount&&!t.isCollapsed)return t;var e,n,o=[],r=document.getElementsByTagName("iframe"),i=document.domain;for(n=0;n<r.length;n++)e=GlobalUtils.getDomainFromUrl(r[n].src),e&&e.lastIndexOf(i)!=e.length-i.length||o.push(r[n]);var a=document.getElementsByTagName("frame");for(n=0;n<a.length;n++)e=GlobalUtils.getDomainFromUrl(a[n].src),e&&e.lastIndexOf(i)!=e.length-i.length||o.push(a[n]);for(n=0;n<o.length;n++){var s=null;try{s=o[n].contentDocument}catch(c){}if(s){var u=s.getSelection();if(u&&u.rangeCount&&!u.isCollapsed)return d=!0,h=o[n],u}else console.warn("iframe contained no Document object.")}return null}function a(){return h}var s={"penny-arcade.com":"div.contentArea > div.comic > img","aspicyperspective.com":"div.entry-content","thewirecutter.com":"div#content","katespade.com":"div#pdpMain","threadless.com":"section.product_section","yelp.com":"div#bizBox","flickr.com":"div#photo","instagr.am":"div.stage > div.stage-inner","stackoverflow.com":"div#mainbar","makeprojects.com":"div#guideMain","cookpad.com":"div#main","imgur.com":"div.image","smittenkitchen.com":"div.entry","allrecipes.com":"div#content-wrapper","qwantz.com":"img.comic","questionablecontent.net":"img#strip","cad-comic.com":"div#content","techcrunch.com":"div.module-post-detail","zhihu.com":"div.zu-main-content","baike.baidu.com":"div.main-wrap","tieba.baidu.com":"div.left_section","renren.com":"div.ugc-detail-container"},c=["xkcd.com"],u=(Boolean(document.getElementsByTagName("img").length>0),document.width,document.height,document.location.href,document.body.textContent.length,null),l=null,d=!1,p=!1,h=null,f=!1;this.getDefaultArticle=r,this.getSelection=i,this.getSelectionFrame=a}},initContentExtractor:function(){"undefined"==typeof window.ExtractContentJS&&(window.ExtractContentJS={}),"undefined"==typeof window.ExtractContentJS.Lib&&(window.ExtractContentJS.Lib={}),window.ExtractContentJS.Lib.Util=function(){var t={};return t.BenchmarkTimer=function(){var t=function(){var t=new Date,e=0;return e=t.getHours(),e=60*e+t.getMinutes(),e=60*e+t.getSeconds(),e=1e3*e+t.getMilliseconds()},e=function(){var e={elapsed:0};return e.reset=function(){return e.elapsed=0,e},e.start=function(){return e.msec=t(),e},e.stop=function(){return e.elapsed+=t()-e.msec,e},e.start()},n={timers:{}};return n.get=function(t){return n.timers[t]||(n.timers[t]=new e),n.timers[t]},n.reset=function(t){return n.get(t).reset()},n.start=function(t){return n.get(t).start()},n.stop=function(t){return n.get(t).stop()},n},t.Token=function(t){var e={hiragana:/[\u3042-\u3093\u304C-\u307C\u3041-\u3087\u308E\u3063\u30FC]/,katakana:/[\u30A2-\u30F3\u30AC-\u30DC\u30A1-\u30E7\u30EE\u30C3\u30FC]/,kanji:{test:function(t){return t>="一"&&"龠">=t||"々"===t}},alphabet:/[a-zA-Z]/,digit:/[0-9]/},n=function(t){var n={};for(var o in e)e[o].test(t)&&(n[o]=e[o]);return n},o={first:n(t.charAt(0)),last:n(t.charAt(t.length-1))};return o.isTokenized=function(t,e){var n=t.length?t.charAt(t.length-1):"",r=e.length?e.charAt(0):"",i=function(t,e){if(t.length)for(var n in e)if(e[n].test(t))return!1;return!0};return i(n,o.first)&&i(r,o.last)},o},t.inherit=function(t,e){var n=t||{};for(var o in e)"undefined"==typeof n[o]&&(n[o]=e[o]);return n},t.countMatch=function(t,e){return t.split(e).length-1},t.countMatchTokenized=function(e,n){for(var o=0,r=null,i=new t.Token(n),a=e.split(n),s=a.length,c=0;s>c;c++)r&&i.isTokenized(r,a[c])&&o++,r=a[c];return o},t.indexOfTokenized=function(e,n){var o=e.indexOf(n);if(o>=0){var r=new t.Token(n),i=o>1?e.substr(o-1,1):"",a=e.substr(o+n.length,1);if(r.isTokenized(i,a))return o}return-1},t.dump=function(t){if("undefined"==typeof t)return"undefined";if("string"==typeof t)return'"'+t+'"';if("object"!=typeof t)return""+t;if(null===t)return"null";if(t instanceof Array)return"["+t.map(function(t){return"obj"}).join(",")+"]";var e=[];for(var n in t)e.push(n+":obj");return"{"+e.join(",")+"}"},t}(),window.ExtractContentJS.Lib.A=function(){var t={};return t.indexOf=Array.indexOf||function(t,e){var n=2,o=t.length,r=Number(arguments[n++])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=o);o>r;r++)if(r in t&&t[r]===e)return r;return-1},t.filter=Array.filter||function(t,e){var n=2,o=t.length;if("function"!=typeof e)throw new TypeError("A.filter: not a function");for(var r=new Array,i=arguments[n++],a=0;o>a;a++)if(a in t){var s=t[a];e.call(i,s,a,t)&&r.push(s)}return r},t.forEach=Array.forEach||function(t,e){var n=2,o=t.length;if("function"!=typeof e)throw new TypeError("A.forEach: not a function");for(var r=arguments[n++],i=0;o>i;i++)i in t&&e.call(r,t[i],i,t)},t.every=Array.every||function(t,e){var n=2,o=t.length;if("function"!=typeof e)throw new TypeError("A.every: not a function");for(var r=arguments[n++],i=0;o>i;i++)if(i in t&&!e.call(r,t[i],i,t))return!1;return!0},t.map=Array.map||function(t,e){var n=2,o=t.length;if("function"!=typeof e)throw new TypeError("A.map: not a function");for(var r=new Array(o),i=arguments[n++],a=0;o>a;a++)a in t&&(r[a]=e.call(i,t[a],a,t));return r},t.some=Array.some||function(t,e){var n=2,o=t.length;if("function"!=typeof e)throw new TypeError("A.some: not a function");for(var r=arguments[n++],i=0;o>i;i++)if(i in t&&e.call(r,t[i],i,t))return!0;return!1},t.reduce=Array.reduce||function(t,e){var n=2,o=t.length;if("function"!=typeof e)throw TypeError("A.reduce: not a function ");var r=0;if(arguments.length>n)var i=arguments[n++];else for(;;){if(r in t){i=t[r++];break}if(++r>=o)throw new TypeError("A.reduce: empty array")}for(;o>r;r++)r in t&&(i=e.call(null,i,t[r],r,t));return i},t.zip=function(t){if(t[0]instanceof Array){for(var e=t[0].length,n=t.length,o=new Array(e),r=0;e>r;r++){o[r]=[];for(var i=0;n>i;i++)o[r].push(t[i][r])}return o}return[]},t.first=function(t){return t?t[0]:null},t.last=function(t){return t?t[t.length-1]:null},t.push=function(t,e){return Array.prototype.push.apply(t,e)},t}(),window.ExtractContentJS.Lib.DOM=function(){var t=window.ExtractContentJS.Lib.A,e={};return e.getElementStyle=function(t,e){var n=t.style?t.style[e]:null;if(!n){var o=t.ownerDocument.defaultView;if(o&&o.getComputedStyle){try{var r=o.getComputedStyle(t,null)}catch(i){return null}e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=r?r.getPropertyValue(e):null}else t.currentStyle&&(n=t.currentStyle[e])}return n},e.text=function(t){return"undefined"!=typeof t.textContent?t.textContent:"#text"==t.nodeName?t.nodeValue:"undefined"!=typeof t.innerText?t.innerText:null},e.ancestors=function(t){for(var e=t.ownerDocument.body,n=[],o=t;o!=e;)n.push(o),o=o.parentNode;return n.push(e),n},e.commonAncestor=function(t,n){for(var o=e.ancestors(t).reverse(),r=e.ancestors(n).reverse(),i=null,a=0;o[a]&&r[a]&&o[a]==r[a];a++)i=o[a];return i},e.countMatchTagAttr=function(n,o,r,i){var a=function(t){return t.test(n[r])};if((n.tagName||"").toLowerCase()==o&&t.some(i,a))return 1;for(var s=0,c=n.childNodes,u=0,l=c.length;l>u;u++)s+=e.countMatchTagAttr(c[u],o,r,i);return s},e.matchTag=function(n,o){return t.some(o,function(t){return"string"==typeof t?t==(n.tagName||"").toLowerCase():t instanceof Array?t[0]==(n.tagName||"").toLowerCase()&&e.matchAttr(n,t[1]):!1})},e.matchAttr=function(n,o){var r=function(o,i){if("string"==typeof o)return o==i;if(o instanceof RegExp)return o.test(i);if(o instanceof Array)return t.some(o,function(t){return r(t,i)});if(o instanceof Object)for(var a in o){var s=n[a];if(s&&e.matchAttr(s,o[a]))return!0}return!1};for(var i in o){var a=n[i],s=o[i];if(a)return r(s,a)}return!1},e.matchStyle=function(n,o){var r=function(e,n){return"string"==typeof e?e==n:e instanceof RegExp?e.test(n):e instanceof Array?t.some(e,function(t){return r(t,n)}):!1};for(var i in o)if(r(o[i],e.getElementStyle(n,i)))return!0;return!1},e}(),"undefined"==typeof window.ExtractContentJS&&(window.ExtractContentJS={}),function(t){var e=t.Lib.Util,n=t.Lib.A,o=t.Lib.DOM,r=e.inherit(function(t){var e=arguments[1]||0,n=arguments[2]||{},r=arguments[3]||1048576,i={node:t,depth:e,inside:n};return i.statistics=function(){var e=(o.text(t)||"").replace(/\s+/g," "),i=e.length;return{text:e.substr(0,r),noLinkText:n.link||n.form?"":e,listTextLength:n.list?i:0,noListTextLength:n.list?0:i,linkCount:n.link?1:0,listCount:n.li?1:0,linkListCount:n.li&&n.link?1:0}},i},{commonAncestor:function(){var t=n.map(arguments,function(t){return t.node});return t.length<2?t[0]:n.reduce(t,function(t,e){return o.commonAncestor(t,e)})},mergeStatistics:function(t,e){var n={};for(var o in t)n[o]=t[o]+e[o];return n}}),i=function(t){t=n.filter(t,function(t){var e=o.text(t.node)||"";return e=e.replace(/\s+/g,""),0!=e.length});var e={score:0,leaves:t};return e.commonAncestor=function(){return r.commonAncestor.apply(null,e.leaves)},e},a=function(t){var e={_content:t};return e.asLeaves=function(){return e._content},e.asNode=function(){return e._node?e._node:(e._node=r.commonAncestor.apply(null,e._content),e._node)},e.asTextFragment=function(){return e._textFragment?e._textFragment:e._content.length<1?"":(e._textFragment=n.reduce(e._content,function(t,e){var n=o.text(e.node);return n=n.replace(/^\s+/g,"").replace(/\s+$/g,""),n=n.replace(/\s+/g," "),t+n},""),e._textFragment)},e.asText=function(){if(e._text)return e._text;var t=e.asNode();return e._text=t?o.text(t):"",e._text},e.toString=function(){return e.asTextFragment()},e};t.LayeredExtractor=function(){var e={handler:arguments[0]||[],filter:arguments[1]||{}};return e.factory={getHandler:function(e){return"undefined"!=typeof t.LayeredExtractor.Handler?new t.LayeredExtractor.Handler[e]:null}},e.addHandler=function(t){return"undefined"!=typeof t&&e.handler.push(t),e},e.filterFor=function(t){},e.extract=function(t){for(var n=t.location.href,o={title:t.title,url:t.location.href},r=e.handler.length,i=0;r>i;i++){var s=e.handler[i].extract(t,n,o);if(s){var c=e.filterFor(n);if(c&&(s=c.filter(s)),s=new a(s),s.toString().length){o.content=s,o.isSuccess=!0,o.engine=o.engine||e.handler[i];break}}}return o},e},t.LayeredExtractor.Handler={},t.LayeredExtractor.Handler.Heuristics=function(){var t={name:"Heuristics",content:[],opt:e.inherit(arguments[0],{threshold:60,minLength:30,factor:{decay:.75,noBody:.72,continuous:1.16},punctuationWeight:10,minNoLink:8,noListRatio:.2,limit:{leaves:800,recursion:20,text:1048576},debug:!1}),pat:e.inherit(arguments[1],{sep:["div","center","td","h1","h2"],waste:[/Copyright|All\s*Rights?\s*Reserved?/i],affiliate:[/amazon[a-z0-9\.\/\-\?&]+-22/i],list:["ul","dl","ol"],li:["li","dd"],a:["a"],form:["form"],noContent:["frameset"],ignore:["iframe","img","script","style","select","noscript",["div",{id:[/more/,/menu/,/side/,/navi/],className:[/more/,/menu/,/side/,/navi/]}]],ignoreStyle:{display:"none",visibility:"hidden"},punctuations:/[\u3002\u3001\uFF0E\uFF0C\uFF01\uFF1F]|\.[^A-Za-z0-9]|,[^0-9]|!|\?/})},a=e.inherit(function(a){var s=new i(a);return s.eliminateLinks=function(){var e=n.map(s.leaves,function(t){return t.statistics()});if(!e.length)return"";e=1==e.length?e[0]:n.reduce(e,function(t,e){return r.mergeStatistics(t,e)});var o=e.noLinkText.length,i=e.linkCount,a=e.listTextLength;if(o<t.opt.minNoLink*i)return"";var c=e.linkListCount/(e.listCount||1);c*=c;var u=t.opt.noListRatio*c*a;return u>o?"":e.noLinkText},s.noBodyRate=function(){var r=0;return s.leaves.length>0&&(r+=n.reduce(s.leaves,function(e,n){return e+o.countMatchTagAttr(n.node,"a","href",t.pat.affiliate)},0)),r/=2,r+=n.reduce(t.pat.waste,function(t,n){return t+e.countMatch(s._nolink,n)},0)},s.calcScore=function(n,o){if(s._nolink=s.eliminateLinks(),s._nolink.length<t.opt.minLength)return 0;var r=e.countMatch(s._nolink,t.pat.punctuations);r*=t.opt.punctuationWeight,r+=s._nolink.length,r*=n;var i=s.noBodyRate();return r*=Math.pow(t.opt.factor.noBody,i),s._c=s.score=r,s._c1=r*o,r},s.isAccepted=function(){return s._c>t.opt.threshold},s.isContinuous=function(){return s._c1>t.opt.threshold},s.merge=function(t){return s.score+=t._c1,s.depth=Math.min(s.depth,t.depth),n.push(s.leaves,t.leaves),s},s},{split:function(e){var n=[],i=[],s=0,c=t.opt.limit.text,u=function(t){t&&i.length&&(n.push(new a(i)),i=[])},l=function(e,a,d){if(s>=t.opt.limit.leaves)return n;if(a>=t.opt.limit.recursion)return n;if("#comment"==e.nodeName)return n;if(o.matchTag(e,t.pat.ignore))return n;if(o.matchStyle(e,t.pat.ignoreStyle))return n;for(var p=e.childNodes,h=t.pat.sep,f=p.length,m={form:d.form||o.matchTag(e,t.pat.form),link:d.link||o.matchTag(e,t.pat.a),list:d.list||o.matchTag(e,t.pat.list),li:d.li||o.matchTag(e,t.pat.li)},g=0;f>g;g++){var y=p[g],v=o.matchTag(y,h);u(v),l(y,a+1,m),u(v)}return f||(s++,i.push(new r(e,a,m,c))),n};return l(e,0,{}),u(!0),n}});return t.extract=function(e){var o=function(t){return 0!=e.getElementsByTagName(t).length};if(n.some(t.pat.noContent,o))return t;for(var r,i=1,s=1,c=[],u=a.split(e.body),l=u.length,d=0;l>d;d++){
var p=u[d];r&&(s/=t.opt.factor.continuous),p.calcScore(i,s)&&(i*=t.opt.factor.decay,p.isAccepted()?(p.isContinuous()&&r?r.merge(p):(r=p,c.push(p)),s=t.opt.factor.continuous):r||(i=1))}t.blocks=c.sort(function(t,e){return e.score-t.score});var h=n.first(t.blocks);return h&&(t.content=h.leaves),t.content},t},t.LayeredExtractor.Handler.GoogleAdSection=function(){var t={name:"GoogleAdSection",content:[],state:[],opt:e.inherit(arguments[0],{limit:{leaves:800,recursion:20},debug:!1})},o={ignore:/google_ad_section_start\(weight=ignore\)/i,section:/google_ad_section_start/i,end:/google_ad_section_end/i},a=1,s=2;return t.inSection=function(){return n.last(t.state)==s},t.ignore=function(){t.state.push(a)},t.section=function(){t.state.push(s)},t.end=function(){t.state.length&&t.state.pop()},t.parse=function(e){var n=arguments[1]||0;if("#comment"==e.nodeName)return void(o.ignore.test(e.nodeValue)?t.ignore():o.section.test(e.nodeValue)?t.section():o.end.test(e.nodeValue)&&t.end());if(!(t.content.length>=t.opt.limit.leaves||n>=t.opt.limit.recursion)){for(var i=e.childNodes,a=i.length,s=0;a>s;s++){var c=i[s];t.parse(c,n+1)}!a&&t.inSection()&&t.content.push(new r(e,n))}},t.extract=function(e){return t.parse(e),t.blocks=[new i(t.content)],t.content},t}}(window.ExtractContentJS)}})}(t.oojs)}();