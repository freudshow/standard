/////////////////////测试报文   20160001-014  电能表当前数据功能


清空采集任务配置表
68 18 00 43 05 01 00 00 00 00 00 10 6A EA 
07 01 
05 //piid
60 12 81 00             //0x81:129:clear()
00                      // ????????/无数据
00                   //TimeTag
86 83                   //CS
16 

下装普通采集方案
07 01 09 60 14 7F 00 01 01 02 06 11 01 12 01 00 02 02 11 00 00 01 03 5B 00 00 10 02 00 5B 00 20 00 02 00 5B 00 20 01 02 00 5C 01 16 02 00 
发送内容：68 3D 00 43 05 01 00 00 00 00 00 10 24 03 07 01 09 60 14 7F 00 01 01 02 06 11 01 12 01 00 02 02 11 00 00 01 03 5B 00 00 10 02 00 5B 00 20 00 02 00 5B 00 20 01 02 00 5C 01 16 02 00 2C 80 16


07 01 09 
60 14 7F 00             6014- 127
01  //array
01 
02 06   //struct 6个 
11 01   //方案编号
12 01 00 //存储深度
02 02 
        11 00   //采集类型  采集当前数据
        00      //NULL 
01 03           //记录列选择 array CSD
  5B            //CSD CSD∷=CHOICE
                        {
                        对象属性描述符       [0] OAD，
                        记录型对象属性描述符 [1] ROAD
                        }
  00 00 10 02 00      //OAD   OI:0010-0200       正向有功电能    
  5B 
  00 20 00 02 00      OI：2000-0200  电压
  5B 
  00 20 01 02 00      OI: 2001-0200  电流  
  5C 01         //电能表集合 MS      1：全部用户地址――全部可采集的电能表
  16 02         //枚举： 相对于当日0点0分 
  00 


―――――――――――――――――――――――――――
下装采集任务
―――――――――――――――――――――――――――
明文APDU：07 01 0A 60 12 7F 00 01 01 02 0C 11 01 54 01 00 05 16 01 11 01 1C 07 E0 0B 0B 00 00 00 1C 08 33 09 09 09 09 09 54 01 00 02 16 02 16 01 12 00 00 12 00 00 02 02 16 00 01 01 02 04 11 00 11 00 11 17 11 3B 00 
发送内容：68 53 00 43 05 01 00 00 00 00 00 10 76 65 07 01 0A 60 12 7F 00 01 01 02 0C 11 01 54 01 00 05 16 01 11 01 1C 07 E0 0B 0B 00 00 00 1C 08 33 09 09 09 09 09 54 01 00 02 16 02 16 01 12 00 00 12 00 00 02 02 16 00 01 01 02 04 11 00 11 00 11 17 11 3B 00 AF 82 16 

07 01 
0A      //piid
60 12 7F 00     //6012 -127
01 01   //array 1 
02 0C   //struct  0c元素 12个
11 01   //unisged   任务ID =1 
54 01 00 05     //TI  执行频率  01：分  间隔：5分钟 
16 01           //普通采集方案01
11 01           //方案编号  = 01
1C 07 E0 0B 0B 00 00 00  //1C：date_time_s     开始时间   2016-11-11 0:0:0
1C 08 33 09 09 09 09 09 //结束时间   2099-9-9 9:9:9
54 01 00 02     //TI延时   01：分  间隔：2分钟
16 02          //执行优先级 2： 必要
16 01           //状态 1： 正常
12 00 00 
12 00 00 
   02 02  任务运行时段  struct 02
   16 00  0：前闭后开 
   01 01  array
   02 04 
           11 00   //起始小时
           11 00   //起始分钟
           11 17   //结束小时     
           11 3B   //结束分钟     
   00 




发送内容：
68 1F 00 43 05 01 00 00 00 00 00 10 8C 4A 
05 03 0C      读取请求			 [5]		GET-Request
              读取一个记录型对象属性请求       [3] GetRequestRecord，
60 34 02 00   6034：采集任务监控集
01      //array 
60 35 02 01   6035-0201 采集任务监控单元
11 01    任务ID 
00 
00 87 30 16 

接收内容：
68 42 00 C3 05 01 00 00 00 00 00 10 75 85 
85 03 0C    读取响应         	[133]	GET-Response，       读取一个记录型对象属性的响应   	[3]  GetResponseRecord，
60 34 02 00 
01 00           //？？？？？
60 35 02 00 
01 01           //？？？？？
02 08 
11 01           //任务ID 
16 02           //2：已执行 
1C 07 E0 0B 0B 00 02 00  //任务开始时间
1C 07 E0 0B 0B 00 02 02  //任务结束时间
12 00 02                //采集总数量
12 00 02                //采集成功数量        
12 00 02                //已发送报文条数
12 00 02                //已接收报文条数
00                      //？？？？？？？？ 
00 
3D 50 16 






读取电表当前数据
―――――――――――――――――――――――――――
发送时间：2016-11-10 20:59:11.484
明文APDU：05 03 0D 60 12 03 00 07 07 E0 0B 0B 00 00 00 07 E0 0B 0B 17 3B 3B 00 FF FF 01 04 00 20 2A 02 00 00 00 10 02 00 00 20 00 02 00 00 20 01 02 00 00 
发送内容：68 3F 00 43 05 01 00 00 00 00 00 10 06 A8 05 03 0D 60 12 03 00 07 07 E0 0B 0B 00 00 00 07 E0 0B 0B 17 3B 3B 00 FF FF 01 04 00 20 2A 02 00 00 00 10 02 00 00 20 00 02 00 00 20 01 02 00 00 EA 6D 16 
接收时间：2016-11-10 20:59:27.140
接收内容：68 B9 00 C3 05 01 00 00 00 00 00 10 BD 0B 85 03 0D 60 12 03 00 04 00 20 2A 02 00 00 00 10 02 00 00 20 00 02 00 00 20 01 02 00 01 02 55 07 05 00 00 00 00 00 01 01 05 06 00 00 00 00 06 00 07 A1 62 06 00 00 00 00 06 00 00 00 00 06 00 00 00 00 01 03 12 08 99 12 07 DA 12 08 20 01 04 05 00 00 05 3C 05 00 00 09 24 05 00 00 0D 0C 05 00 00 10 F4 55 07 05 00 00 00 00 00 02 01 05 06 00 00 00 00 06 00 07 A1 62 06 00 00 00 00 06 00 00 00 00 06 00 00 00 00 01 03 12 08 99 12 07 DA 12 08 20 01 04 05 00 00 05 3C 05 00 00 09 24 05 00 00 0D 0C 05 00 00 10 F4 00 00 DC E4 16 

明文APDU：
68 3F 00 43 05 01 00 00 00 00 00 10 06 A8 

05 03 0D             GetRecord∷=SEQUENCE
                        {
                          对象属性描述符     OAD，
                          记录选择描述符     RSD，
                          记录列选择描述符   RCSD
                        }
60 12 03 00             //OAD
07      //RSD    选择方法7  	 [7]  Selector7 
    //    Selector7∷=SEQUENCE
                                {
                                  采集存储时间起始值  date_time_s，
                                  采集存储时间结束值  date_time_s，
                                  时间间隔            TI，
                                  电能表集合          MS
                                }
07 E0 0B 0B 00 00 00            采集存储时间起始值
07 E0 0B 0B 17 3B 3B            采集存储时间结束值
00                              //TI 单位：秒
FF FF                           // TI 间隔值：ffff
01      //MS 全部用户地址 
        //RCSD       RCSD∷=SEQUENCE OF CSD
                       CSD∷=CHOICE
                        {
                        对象属性描述符       [0] OAD，
                        记录型对象属性描述符 [1] ROAD
                        }
04       //个数       
00      //OAD
20 2A 02 00     //202A 目标服务器地址
00      //oad
00 10 02 00    //0010 正向有功电能
00 
20 00 02 00     //2000 电压
00 
20 01 02 00     //2001 电流
00 
EA 6D 16 


读取电表当前数据 上送报文
68 B9 00 C3 05 01 00 00 00 00 00 10 BD 0B 
85 03 0D         读取响应         	[133]	GET-Response
60 12 03 00             //OAD
04                    //RCSD   04  SEQUENCE OF CSD   
00 20 2A 02 00           00：OAD  202A
00 00 10 02 00           00：OAD  0010
00 20 00 02 00 
00 20 01 02 00
01 02   //array 2个
55 07 05 00 00 00 00 00 01 //TSA
01 05    //array 5个
        06 00 00 00 00          0010 总及四费率
        06 00 07 A1 62 
        06 00 00 00 00 
        06 00 00 00 00 
        06 00 00 00 00 
01 03 
        12 08 99                //2000   电压
        12 07 DA 
        12 08 20 
01 04 
        05 00 00 05 3C         // 2001 电流
        05 00 00 09 24 
        05 00 00 0D 0C 
        05 00 00 10 F4 
55 07 05 00 00 00 00 00 02      //TSA
01 05 
        06 00 00 00 00 
        06 00 07 A1 62 
        06 00 00 00 00 
        06 00 00 00 00 
        06 00 00 00 00 
01 03 
        12 08 99 
        12 07 DA 
        12 08 20 
01 04 
        05 00 00 05 3C 
        05 00 00 09 24 
        05 00 00 0D 0C 
        05 00 00 10 F4 
00      //？？？？？？
00   // 无时间标签
DC E4   //CS
16 





68 B9 00 C3 05 01 00 00 00 00 00 10 BD 0B 85 03 0D 60 12 03 00 
04 
00 20 2A 02 00 
00 00 10 02 00 
00 20 00 02 00 
00 20 01 02 00 
01 02 55 07 05 00 00 00 00 00 01 01 05 06 00 00 00 00 06 00 07 A1 62 06 00 00 00 00 06 00 00 00 00 06 00 00 00 00 01 03 12 08 99 12 07 DA 12 08 20 01 04 05 00 00 05 3C 05 00 00 09 24 05 00 00 0D 0C 05 00 00 10 F4 55 07 05 00 00 00 00 00 02 01 05 06 00 00 00 00 06 00 07 A1 62 06 00 00 00 00 06 00 00 00 00 06 00 00 00 00 01 03 12 08 99 12 07 DA 12 08 20 01 04 05 00 00 05 3C 05 00 00 09 24 05 00 00 0D 0C 05 00 00 10 F4 00 00 DC E4 16 



下装普通采集方案
68 3D 00 43 05 08 00 00 00 00 00 10 1D 42 
07 01 
0C 
60 14 7F 00 
01 
01 
02 
06 
11 
01 方案编号
12 
01 00 存储深度
02 
02 
11 
00 采集当前数据
00 
01 array
03 
5B 00 OAD
00 10 02 00 
5B 00 
20 00 02 00 
5B 00 
20 01 02 00 
5C 
01 全部
16 
02 
00 55 11 16 

下装采集任务
68 53 00 43 05 08 00 00 00 00 00 10 4F 24 
07 01 
0D 
60 12 7F 00 
01 
01 
02 
0C 
11 
01 任务id
54 TI
01 
00 05 5分钟
16 
01 
11 
01 方案编号1
1C 
07 E0 09 0C 00 02 00 
1C 
08 33 09 09 09 09 09 
54 
00 00 00 无延时
16 
02 必要
16 
01 
12 00 00 12 00 00 
02 
02 
16 
00 
01 
01 
02 
04 
11 00 11 00 11 17 11 3B 00 2C F2 16 

